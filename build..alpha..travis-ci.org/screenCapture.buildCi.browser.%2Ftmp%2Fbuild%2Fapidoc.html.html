<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/aaronblohowiak/routes.js">routes (v2.1.0)</a>
</h1>
<h4>Minimalist route matching for javascript</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.routes">module routes</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.routes.routes">
            function <span class="apidocSignatureSpan"></span>routes
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.routes.Route">
            function <span class="apidocSignatureSpan">routes.</span>Route
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.routes.Router">
            function <span class="apidocSignatureSpan">routes.</span>Router
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.routes.match">
            function <span class="apidocSignatureSpan">routes.</span>match
            <span class="apidocSignatureSpan">(routes, uri, startAt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.routes.pathToRegExp">
            function <span class="apidocSignatureSpan">routes.</span>pathToRegExp
            <span class="apidocSignatureSpan">(path, keys)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.routes.toString">
            function <span class="apidocSignatureSpan">routes.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.routes.Route">module routes.Route</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.routes.Route.Route">
            function <span class="apidocSignatureSpan">routes.</span>Route
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.routes.match">module routes.match</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.routes.match.match">
            function <span class="apidocSignatureSpan">routes.</span>match
            <span class="apidocSignatureSpan">(routes, uri, startAt)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.routes.pathToRegExp">module routes.pathToRegExp</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.routes.pathToRegExp.pathToRegExp">
            function <span class="apidocSignatureSpan">routes.</span>pathToRegExp
            <span class="apidocSignatureSpan">(path, keys)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.routes.toString">module routes.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.routes.toString.toString">
            function <span class="apidocSignatureSpan">routes.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.routes" id="apidoc.module.routes">module routes</a></h1>


    <h2>
        <a href="#apidoc.element.routes.routes" id="apidoc.element.routes.routes">
        function <span class="apidocSignatureSpan"></span>routes
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">routes = function (){
  //using 'new' is optional
  return {
    routes: [],
    routeMap : {},
    addRoute: function(path, fn){
      if (!path) throw new Error(' route requires a path');
      if (!fn) throw new Error(' route ' + path.toString() + ' requires a callback');

      if (this.routeMap[path]) {
        throw new Error('path is already defined: ' + path);
      }

      var route = Route(path);
      route.fn = fn;

      this.routes.push(route);
      this.routeMap[path] = fn;
    },

    removeRoute: function(path) {
      if (!path) throw new Error(' route requires a path');
      if (!this.routeMap[path]) {
        throw new Error('path does not exist: ' + path);
      }

      var match;
      var newRoutes = [];

      // copy the routes excluding the route being removed
      for (var i = 0; i &lt; this.routes.length; i++) {
        var route = this.routes[i];
        if (route.src !== path) {
          newRoutes.push(route);
        }
      }
      this.routes = newRoutes;
      delete this.routeMap[path];
    },

    match: function(pathname, startAt){
      var route = match(this.routes, pathname, startAt);
      if(route){
        route.fn = this.routeMap[route.route];
        route.next = this.match.bind(this, pathname, route.next)
      }
      return route;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.routes.Route" id="apidoc.element.routes.Route">
        function <span class="apidocSignatureSpan">routes.</span>Route
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Route = function (path){
  //using 'new' is optional

  var src, re, keys = [];

  if(path instanceof RegExp){
    re = path;
    src = path.toString();
  }else{
    re = pathToRegExp(path, keys);
    src = path;
  }

  return {
  	 re: re,
  	 src: path.toString(),
  	 keys: keys
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.routes.Router" id="apidoc.element.routes.Router">
        function <span class="apidocSignatureSpan">routes.</span>Router
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Router = function (){
  //using 'new' is optional
  return {
    routes: [],
    routeMap : {},
    addRoute: function(path, fn){
      if (!path) throw new Error(' route requires a path');
      if (!fn) throw new Error(' route ' + path.toString() + ' requires a callback');

      if (this.routeMap[path]) {
        throw new Error('path is already defined: ' + path);
      }

      var route = Route(path);
      route.fn = fn;

      this.routes.push(route);
      this.routeMap[path] = fn;
    },

    removeRoute: function(path) {
      if (!path) throw new Error(' route requires a path');
      if (!this.routeMap[path]) {
        throw new Error('path does not exist: ' + path);
      }

      var match;
      var newRoutes = [];

      // copy the routes excluding the route being removed
      for (var i = 0; i &lt; this.routes.length; i++) {
        var route = this.routes[i];
        if (route.src !== path) {
          newRoutes.push(route);
        }
      }
      this.routes = newRoutes;
      delete this.routeMap[path];
    },

    match: function(pathname, startAt){
      var route = match(this.routes, pathname, startAt);
      if(route){
        route.fn = this.routeMap[route.route];
        route.next = this.match.bind(this, pathname, route.next)
      }
      return route;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.routes.match" id="apidoc.element.routes.match">
        function <span class="apidocSignatureSpan">routes.</span>match
        <span class="apidocSignatureSpan">(routes, uri, startAt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">match = function (routes, uri, startAt) {
	var captures, i = startAt || 0;

	for (var len = routes.length; i &lt; len; ++i) {
		var route = routes[i],
		    re = route.re,
		    keys = route.keys,
		    splats = [],
		    params = {};

		if (captures = uri.match(re)) {
			for (var j = 1, len = captures.length; j &lt; len; ++j) {
				var key = keys[j-1],
					val = typeof captures[j] === 'string'
						? unescape(captures[j])
						: captures[j];
				if (key) {
					params[key] = val;
				} else {
					splats.push(val);
				}
			}
			return {
				params: params,
				splats: splats,
				route: route.src,
				next: i + 1
			};
		}
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var Router = require('routes');
var router = Router();
var noop = function(){};

router.addRoute("/articles/:title?", noop);
router.addRoute("/:controller/:action/:id.:format?", noop);

console.log(router.<span class="apidocCodeKeywordSpan">match</span>("/articles"));
console.log(router.match("/articles/never-gonna-let-you-down"));
console.log(router.match("/posts/show/1.json"));

```

The output for `router.match("/posts/show/1.json")` would be:
```js
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.routes.pathToRegExp" id="apidoc.element.routes.pathToRegExp">
        function <span class="apidocSignatureSpan">routes.</span>pathToRegExp
        <span class="apidocSignatureSpan">(path, keys)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pathToRegExp = function (path, keys) {
	path = path
		.concat('/?')
		.replace(/\/\(/g, '(?:/')
		.replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?|\*/g, function(_, slash, format, key, capture, optional){
			if (_ === "*"){
				keys.push(undefined);
				return _;
			}

			keys.push(key);
			slash = slash || '';
			return ''
				+ (optional ? '' : slash)
				+ '(?:'
				+ (optional ? slash : '')
				+ (format || '') + (capture || '([^/]+?)') + ')'
				+ (optional || '');
		})
		.replace(/([\/.])/g, '\\$1')
		.replace(/\*/g, '(.*)');
	return new RegExp('^' + path + '$', 'i');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.routes.toString" id="apidoc.element.routes.toString">
        function <span class="apidocSignatureSpan">routes.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
    return text;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var Route = function(path){
//using 'new' is optional

var src, re, keys = [];

if(path instanceof RegExp){
  re = path;
  src = path.<span class="apidocCodeKeywordSpan">toString</span>();
}else{
  re = pathToRegExp(path, keys);
  src = path;
}

return {
	 re: re,
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.routes.Route" id="apidoc.module.routes.Route">module routes.Route</a></h1>


    <h2>
        <a href="#apidoc.element.routes.Route.Route" id="apidoc.element.routes.Route.Route">
        function <span class="apidocSignatureSpan">routes.</span>Route
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Route = function (path){
  //using 'new' is optional

  var src, re, keys = [];

  if(path instanceof RegExp){
    re = path;
    src = path.toString();
  }else{
    re = pathToRegExp(path, keys);
    src = path;
  }

  return {
  	 re: re,
  	 src: path.toString(),
  	 keys: keys
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.routes.match" id="apidoc.module.routes.match">module routes.match</a></h1>


    <h2>
        <a href="#apidoc.element.routes.match.match" id="apidoc.element.routes.match.match">
        function <span class="apidocSignatureSpan">routes.</span>match
        <span class="apidocSignatureSpan">(routes, uri, startAt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">match = function (routes, uri, startAt) {
	var captures, i = startAt || 0;

	for (var len = routes.length; i &lt; len; ++i) {
		var route = routes[i],
		    re = route.re,
		    keys = route.keys,
		    splats = [],
		    params = {};

		if (captures = uri.match(re)) {
			for (var j = 1, len = captures.length; j &lt; len; ++j) {
				var key = keys[j-1],
					val = typeof captures[j] === 'string'
						? unescape(captures[j])
						: captures[j];
				if (key) {
					params[key] = val;
				} else {
					splats.push(val);
				}
			}
			return {
				params: params,
				splats: splats,
				route: route.src,
				next: i + 1
			};
		}
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var Router = require('routes');
var router = Router();
var noop = function(){};

router.addRoute("/articles/:title?", noop);
router.addRoute("/:controller/:action/:id.:format?", noop);

console.log(router.<span class="apidocCodeKeywordSpan">match</span>("/articles"));
console.log(router.match("/articles/never-gonna-let-you-down"));
console.log(router.match("/posts/show/1.json"));

```

The output for `router.match("/posts/show/1.json")` would be:
```js
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.routes.pathToRegExp" id="apidoc.module.routes.pathToRegExp">module routes.pathToRegExp</a></h1>


    <h2>
        <a href="#apidoc.element.routes.pathToRegExp.pathToRegExp" id="apidoc.element.routes.pathToRegExp.pathToRegExp">
        function <span class="apidocSignatureSpan">routes.</span>pathToRegExp
        <span class="apidocSignatureSpan">(path, keys)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pathToRegExp = function (path, keys) {
	path = path
		.concat('/?')
		.replace(/\/\(/g, '(?:/')
		.replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?|\*/g, function(_, slash, format, key, capture, optional){
			if (_ === "*"){
				keys.push(undefined);
				return _;
			}

			keys.push(key);
			slash = slash || '';
			return ''
				+ (optional ? '' : slash)
				+ '(?:'
				+ (optional ? slash : '')
				+ (format || '') + (capture || '([^/]+?)') + ')'
				+ (optional || '');
		})
		.replace(/([\/.])/g, '\\$1')
		.replace(/\*/g, '(.*)');
	return new RegExp('^' + path + '$', 'i');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.routes.toString" id="apidoc.module.routes.toString">module routes.toString</a></h1>


    <h2>
        <a href="#apidoc.element.routes.toString.toString" id="apidoc.element.routes.toString.toString">
        function <span class="apidocSignatureSpan">routes.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var Route = function(path){
//using 'new' is optional

var src, re, keys = [];

if(path instanceof RegExp){
  re = path;
  src = path.<span class="apidocCodeKeywordSpan">toString</span>();
}else{
  re = pathToRegExp(path, keys);
  src = path;
}

return {
	 re: re,
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>