<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/aaronblohowiak/routes.js"

    >routes (v2.1.0)</a>
</h1>
<h4>Minimalist route matching for javascript</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.routes">module routes</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.routes.Route">
            function <span class="apidocSignatureSpan">routes.</span>Route
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.routes.Router">
            function <span class="apidocSignatureSpan">routes.</span>Router
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.routes.match">
            function <span class="apidocSignatureSpan">routes.</span>match
            <span class="apidocSignatureSpan">(routes, uri, startAt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.routes.pathToRegExp">
            function <span class="apidocSignatureSpan">routes.</span>pathToRegExp
            <span class="apidocSignatureSpan">(path, keys)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.routes" id="apidoc.module.routes">module routes</a></h1>


    <h2>
        <a href="#apidoc.element.routes.Route" id="apidoc.element.routes.Route">
        function <span class="apidocSignatureSpan">routes.</span>Route
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Route = function (path){
  //using &#x27;new&#x27; is optional

  var src, re, keys = [];

  if(path instanceof RegExp){
    re = path;
    src = path.toString();
  }else{
    re = pathToRegExp(path, keys);
    src = path;
  }

  return {
  	 re: re,
  	 src: path.toString(),
  	 keys: keys
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.routes.Router" id="apidoc.element.routes.Router">
        function <span class="apidocSignatureSpan">routes.</span>Router
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Router = function (){
  //using &#x27;new&#x27; is optional
  return {
    routes: [],
    routeMap : {},
    addRoute: function(path, fn){
      if (!path) throw new Error(&#x27; route requires a path&#x27;);
      if (!fn) throw new Error(&#x27; route &#x27; + path.toString() + &#x27; requires a callback&#x27;);

      if (this.routeMap[path]) {
        throw new Error(&#x27;path is already defined: &#x27; + path);
      }

      var route = Route(path);
      route.fn = fn;

      this.routes.push(route);
      this.routeMap[path] = fn;
    },

    removeRoute: function(path) {
      if (!path) throw new Error(&#x27; route requires a path&#x27;);
      if (!this.routeMap[path]) {
        throw new Error(&#x27;path does not exist: &#x27; + path);
      }

      var match;
      var newRoutes = [];

      // copy the routes excluding the route being removed
      for (var i = 0; i &#x3c; this.routes.length; i++) {
        var route = this.routes[i];
        if (route.src !== path) {
          newRoutes.push(route);
        }
      }
      this.routes = newRoutes;
      delete this.routeMap[path];
    },

    match: function(pathname, startAt){
      var route = match(this.routes, pathname, startAt);
      if(route){
        route.fn = this.routeMap[route.route];
        route.next = this.match.bind(this, pathname, route.next)
      }
      return route;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.routes.match" id="apidoc.element.routes.match">
        function <span class="apidocSignatureSpan">routes.</span>match
        <span class="apidocSignatureSpan">(routes, uri, startAt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">match = function (routes, uri, startAt) {
	var captures, i = startAt || 0;

	for (var len = routes.length; i &#x3c; len; ++i) {
		var route = routes[i],
		    re = route.re,
		    keys = route.keys,
		    splats = [],
		    params = {};

		if (captures = uri.match(re)) {
			for (var j = 1, len = captures.length; j &#x3c; len; ++j) {
				var key = keys[j-1],
					val = typeof captures[j] === &#x27;string&#x27;
						? unescape(captures[j])
						: captures[j];
				if (key) {
					params[key] = val;
				} else {
					splats.push(val);
				}
			}
			return {
				params: params,
				splats: splats,
				route: route.src,
				next: i + 1
			};
		}
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var Router = require(&#x27;routes&#x27;);
var router = Router();
var noop = function(){};

router.addRoute(&#x22;/articles/:title?&#x22;, noop);
router.addRoute(&#x22;/:controller/:action/:id.:format?&#x22;, noop);

console.log(router.<span class="apidocCodeKeywordSpan">match</span>(&#x22;/articles&#x22;));
console.log(router.match(&#x22;/articles/never-gonna-let-you-down&#x22;));
console.log(router.match(&#x22;/posts/show/1.json&#x22;));

```

The output for `router.match(&#x22;/posts/show/1.json&#x22;)` would be:
```js
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.routes.pathToRegExp" id="apidoc.element.routes.pathToRegExp">
        function <span class="apidocSignatureSpan">routes.</span>pathToRegExp
        <span class="apidocSignatureSpan">(path, keys)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pathToRegExp = function (path, keys) {
	path = path
		.concat(&#x27;/?&#x27;)
		.replace(/\/\(/g, &#x27;(?:/&#x27;)
		.replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?|\*/g, function(_, slash, format, key, capture, optional){
			if (_ === &#x22;*&#x22;){
				keys.push(undefined);
				return _;
			}

			keys.push(key);
			slash = slash || &#x27;&#x27;;
			return &#x27;&#x27;
				+ (optional ? &#x27;&#x27; : slash)
				+ &#x27;(?:&#x27;
				+ (optional ? slash : &#x27;&#x27;)
				+ (format || &#x27;&#x27;) + (capture || &#x27;([^/]+?)&#x27;) + &#x27;)&#x27;
				+ (optional || &#x27;&#x27;);
		})
		.replace(/([\/.])/g, &#x27;\\$1&#x27;)
		.replace(/\*/g, &#x27;(.*)&#x27;);
	return new RegExp(&#x27;^&#x27; + path + &#x27;$&#x27;, &#x27;i&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
